<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="stylesheets/bootstrap_v3.3.6.css">
    <link rel="stylesheet" href="stylesheets/forgotClientId.css">
</head>

<body>
    <div id="forgotClientIdPopup" class="modal fade" tabindex="-1" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="loading">loading...</div>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="javascripts/jquery.js"></script>
    <script type="text/javascript" src="javascripts/bootstrap.min.js"></script>
    <script>
    // var rect = document.querySelector('.modal-content').getBoundingClientRect();
    // var ob = {
    //     key: "changeSize",
    //     value: {
    //         w: rect.width,
    //         h: rect.height
    //     }
    // }
    // parent.postMessage(ob, "http://hostingpage.com/");
    (function() {
        setTimeout(function() {
            fnLoadPage("http://forgotclientid.pinnacle.com/retrieveClientId.html")
        }, 2000)

        function fnLoadPage(pageURL) {
            $(".modal-content").load(pageURL, function() {
                $(".loading").remove();
            });
        }

        $("#forgotClientIdPopup").modal();

        var fnInjectOverriddenStyleSheet = function(style_href, cb) {
            var css_file = document.createElement('link'),
                head = document.head;
            css_file.onload = cb;
            css_file.setAttribute('rel', 'stylesheet');
            css_file.href = style_href;
            head.appendChild(css_file);
        }

        window.onmessage = function(e) {
            e = e || event;
            if (e.data.key == 'injectOverriddenStyleSheet') {
                if (e.data.value) {
                    fnInjectOverriddenStyleSheet(e.data.value);
                }
            }
        }
    })()
    </script>
</body>

</html>
